<template name="organization">
  <div class="container">
    <h1>Welcome to {{name}}</h1>
    <table class="table needs-table">
      <tr>
        <td><h4>Title</h4></td>
        <td><h4>Needed</h4></td>
        <td><h4>Planned</h4></td>
        <td><h4>Delivered</h4></td>
      </tr>
      {{#each organizationNeeds name}}
        <tr class="need-row">
          {{> organizationNeed}}
          {{#if hasAccessToNeed}}
            <td>
              <form class="new-delivery">
                <input type="text" name="amount" value=1>
                <button type="submit" class="btn btn-success">Delivered</button>
              </form>
            </td>
          {{/if}}
        </tr>
      {{/each}}
    </table>
    {{#if hasAccessToOrganization}}
      <div>
        <form class="new-need need-form">
          <input type="text" name="what" placeholder="What do you need?" />
          <input type="text" name="amount" placeholder="How many?">
          <button type="submit" class="btn btn-success">Submit</button>
        </form>
      </div>
    {{/if}}
    </div>
</template>

<template name="organizationNeed">
  <td>{{title}}</td>
  <td>{{needed}}</td>
  <td>{{planned}}</td>
  <td>{{delivered}}</td>
</template>
